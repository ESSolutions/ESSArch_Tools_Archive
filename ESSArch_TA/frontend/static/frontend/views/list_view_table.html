<div st-table="vm.displayedIps" st-pipe="vm.callServer">
    <div class="search-prepare-wrapper">
        <label for items-per-page></label>
        <select id="items-per-page" style="margin-right: 10px;" ng-change="updateIpsPerPage(vm.itemsPerPage)" class="form-control items-per-page" ng-model="vm.itemsPerPage" ng-options="x for x in [5,10,20,25,50]" uib-popover="{{'ITEMSPERPAGE' | translate}}" popover-placement="top-left" popover-popup-delay="500" popover-append-to-body="true"></select>
        <input ng-if="!('home.reception' | isState)" style="width: 50%;" st-search="" class="form-control global-search" placeholder="{{'GLOBALSEARCH' | translate}}" type="text" uib-popover="{{'GLOBALSEARCHDESC' | translate}}" popover-placement="top-left" popover-popup-delay="500" popover-append-to-body="true" />
        <span ng-click="getListViewData()" class="clickable fa fa-lg fa-refresh" ng-class="{'fa-refresh-animate': ipLoading }" uib-popover="{{'REFRESHTABLEDESC' | translate}}" popover-placement="left" popover-popup-delay="500" popover-append-to-body="true"></span>
    </div>
    <div class="list-view-table">
        <table class="table table-striped" style="margin-bottom: 0px;">
            <thead>
                <tr>
                    <th ng-if="'home.reception' | isState" class="clickable" class="column-label"></th>
                    <th class="clickable" class="column-label" st-sort="{{col.sortString}}" st-sort-default="{{col.sortString == 'create_date'? 'reverse' : ''}}" ng-repeat="col in listViewColumns"><span ng-hide="col.label=='step_state'">{{col.label.toUpperCase() | translate}}</span></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-class="{'selected': ip.object_identifier_value == row.object_identifier_value}" ng-repeat="row in vm.displayedIps" class="table-item">
                    <td ng-if="'home.reception' | isState">
                        <div ng-if="row.state == 'At reception'"class="checkbox table-col">
                            <label>
                                <input ng-disabled="row.state == 'Receiving'" type="checkbox" ng-model="row.checked" ng-change="includeIp(row)" uib-popover="{{'MARKFORRECEIVE' | translate}}" popover-placement="top-left" popover-popup-delay="500" popover-append-to-body="true">
                                </input>
                            </label>
                        </div>
                    </td>
                    <td ng-repeat="col in listViewColumns">
                        <div ng-include src="col.template"></div>
                    </td>
                    <td><a ng-click="filebrowserClick(row)">{{'FILEBROWSER' | translate}}</a></td>
                </tr>
            </tbody>
        </table>
    </div>
    <td ng-show="!initLoad" colspan="{{listViewColumns.length}}">
        <div class="text-center" st-template="static/frontend/views/pagination.html" st-pagination="" st-items-by-page="vm.itemsPerPage" st-displayed-pages="7"></div>
    </td>
</div>
